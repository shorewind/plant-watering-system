<!DOCTYPE html>
<head>
  <title>Plant Watering System</title>
  <script src = "https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href="icon" href="data:,">
</head>
<body>
  <h1 class="text-center">Plant Watering System Data</h1>
  <hr>
    <div class="col">
      <div class="card">
        <div class="card-body">
          <canvas id="moisture"></canvas>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card mt-3">
        <div class="card-body">
          <canvas id="temperature"></canvas>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card mt-3">
        <div class="card-body">
          <canvas id="humidity"></canvas>
        </div>
      </div>
    </div>
    <script>
      Chart.defaults.global.defaultFontColor = 'black';
      var moist_chart = new Chart("moisture", {
          type: "line",
          data: {
              labels: [
                {% for item in time %}
                "{{ item }}",
                {% endfor %}
              ],
              datasets: [{
              fill: false,
              lineTension: 0,
              backgroundColor: "rgba(0,0,255,1.0)",  // blue
              borderColor: "rgba(0,0,255,0.5)",
              data: [
                {% for item in moist_values %}
                "{{ item }}",
                {% endfor %}
              ]
              }]
          },
          options: {
              legend: {
                  display: false
              },
              title: {
                  display: true,
                  text: "Moisture vs. Time"
              },
              scales: {
                  xAxes: [{
                      scaleLabel: {
                          display: true,
                          labelString: "Time (s)"
                      }
                  }],
                  yAxes: [{
                      scaleLabel: {
                          display: true,
                          labelString: "Moisture (%))"
                      }
                  }]
              }
          }
      });
      var temp_chart = new Chart("temperature", {
          type: "line",
          data: {
              labels: [
                {% for item in time %}
                "{{ item }}",
                {% endfor %}
              ],
              datasets: [{
              fill: false,
              lineTension: 0,
              backgroundColor: "rgba(200,0,0,1.0)",  // red
              borderColor: "rgba(200,0,0,0.5)",
              data: [
                {% for item in temp_values %}
                "{{ item }}",
                {% endfor %}
              ]
              }]
          },
          options: {
              legend: {
                  display: false
              },
              title: {
                  display: true,
                  text: "Temperature vs. Time"
              },
              scales: {
                  xAxes: [{
                      scaleLabel: {
                          display: true,
                          labelString: "Time (s)"
                      }
                  }],
                  yAxes: [{
                      scaleLabel: {
                          display: true,
                          labelString: "Temperature (*C)"
                      }
                  }]
              }
          }
      });
      var humid_chart = new Chart("humidity", {
          type: "line",
          data: {
              labels: [
                {% for item in time %}
                "{{ item }}",
                {% endfor %}
              ],
              datasets: [{
              fill: false,
              lineTension: 0,
              backgroundColor: "rgba(255,200,0,1.0)",  // yellow
              borderColor: "rgba(255,200,0,0.5)",
              data: [
                {% for item in humid_values %}
                "{{ item }}",
                {% endfor %}
              ]
              }]
          },
          options: {
              legend: {
                  display: false
              },
              title: {
                  display: true,
                  text: "Humidity vs. Time"
              },
              scales: {
                  xAxes: [{
                      scaleLabel: {
                          display: true,
                          labelString: "Time (s)"
                      }
                  }],
                  yAxes: [{
                      scaleLabel: {
                          display: true,
                          labelString: "Humidity (%)"
                      }
                  }]
              }
          }
      });
    </script>
</body>
</html>
